



<!DOCTYPE html>
<html >

  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content=#ffffff>
  <link rel="stylesheet" href="/assets/css/app.css">
  <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.8.0/dist/alpine.min.js" defer></script>
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">
  
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma-social@1/bin/bulma-social.min.css">
  

  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Lit CLI | Reflekt</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Lit CLI" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Reflective testing." />
<meta property="og:description" content="Reflective testing." />
<link rel="canonical" href="https://reflekt.dev/lit.html" />
<meta property="og:url" content="https://reflekt.dev/lit.html" />
<meta property="og:site_name" content="Reflekt" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Lit CLI" />
<script type="application/ld+json">
{"description":"Reflective testing.","headline":"Lit CLI","@type":"WebPage","url":"https://reflekt.dev/lit.html","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<!-- head scripts --><link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon/favicon-16x16.png">
  <link rel="manifest" href="/assets/favicon/site.webmanifest">
  <link rel="mask-icon" href="/assets/favicon/safari-pinned-tab.svg" color="#1a4450">
  <link rel="shortcut icon" href="/assets/favicon/favicon.ico">
  <meta name="msapplication-TileColor" content="#ffc40d">
  <meta name="msapplication-config" content="/assets/favicon/browserconfig.xml">
  <meta name="theme-color" content="#ffffff">
</head>


  <body>
    <nav class="navbar is-light ">
  <div class="container">

    <div class="navbar-brand">
      <a href="/" class="navbar-item">
        Reflekt
      </a>
      <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navMenu">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </a>
    </div>

    <div class="navbar-menu" id="navMenu">
      <div class="navbar-end">
        
          
            
            <a href="/docs/getting-started" class="navbar-item ">ðŸ“– Documentation</a>
            
          
            
            <a href="/lit" class="navbar-item ">ðŸ”¥ Lit</a>
            
          
            
            <a href="https://github.com/refIekt/reflekt" class="navbar-item ">ðŸ¤– Source Code</a>
            
          
        
        
      </div>

    </div>
  </div>
</nav>


    
      <section class="hero  is-medium  is-bold" >
  <div class="hero-body ">
    <div class="container">

      

      
        <h1 class="title is-2">Lit CLI</h1>
      

      
        <p class="subtitle is-3">Shine a light on terminal commands. ðŸ”¥</p>
      

      

    </div>
  </div>
</section>

    

    

    



    <section class="section">
      <div class="container">
        <div class="columns">

          

          <div class="column is-12">
            
            
            
            

            

            
<div class="content">
    <h1 id="lit-cli">Lit CLI</h1>

<p align="center">
  <a href="https://www.mozilla.org/MPL/2.0/" alt="MPLv2 License">
    <img src="https://img.shields.io/badge/license-MPLv2-blue.svg" />
  </a>
  <a href="https://rubygems.org/gems/lit-cli">
    <img src="https://badge.fury.io/rb/lit-cli.svg" alt="Gem Version" />
  </a>
  <a class="github-button" href="https://github.com/refIekt/lit" data-icon="octicon-star" data-show-count="true" aria-label="Star Lit on GitHub">Star</a>
</p>

<p>Lit lets you create console logs that are only visible after prefixing a command with <code class="language-plaintext highlighter-rouge">lit</code>. You can use flags to filter the types of logs and step through your application at runtime, essentially turning your logs into breakpoints. You can press Enter to continue to the next step or press P to begin a <a href="https://github.com/pry/pry">Pry</a> session. Lit was originally created to view the reflections generated by <a href="https://reflekt.dev">Reflekt</a> via the command line, but can be used in a range of applications.</p>

<h2 id="usage">Usage</h2>

<p>Simply start any command with <code class="language-plaintext highlighter-rouge">lit</code>. For example a script like <code class="language-plaintext highlighter-rouge">ruby script.rb</code> becomes:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lit ruby script.rb
</code></pre></div></div>

<p>Then run the application and watch the terminal window for Lit messages:</p>
<p align="center">
  <img src="/assets/images/lit.png" width="850" />
</p>

<h3 id="flags">Flags</h3>

<p>Lit accepts flags to modify behaviour. They are prefixed with an <code class="language-plaintext highlighter-rouge">@</code> and appended after the <code class="language-plaintext highlighter-rouge">lit</code> command:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lit @&lt;flag-name&gt; ruby &lt;script-name&gt;.rb
</code></pre></div></div>

<p>Flags start with an <code class="language-plaintext highlighter-rouge">@</code> instead of a <code class="language-plaintext highlighter-rouge">--</code> so that they arenâ€™t confused with flags for the original command that Lit is firing off.</p>

<h4 id="step">@step</h4>

<p><img src="/assets/gifs/step.gif" width="750" /></p>

<p>Step through the code. The terminal will stop at each <code class="language-plaintext highlighter-rouge">lit()</code> message, then prompt you to press <em>Enter</em> to continue to the next message or press <em>P</em> to enter a Pry session.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lit @step ruby script.rb
</code></pre></div></div>

<p>When in a Pry session, enter <code class="language-plaintext highlighter-rouge">x</code> to exit Pry or <code class="language-plaintext highlighter-rouge">!!!</code> to exit the program (use <code class="language-plaintext highlighter-rouge">x;</code> to access a variable called <code class="language-plaintext highlighter-rouge">x</code>).</p>

<p><strong>Note:</strong> Only files required via <code class="language-plaintext highlighter-rouge">require_relative</code> are currently supported for Pry session until <a href="https://github.com/pry/pry/issues/2178">this issue</a> is solved.<br />
<strong>Note:</strong> Pry is not available to <code class="language-plaintext highlighter-rouge">lit()</code> messages in the <em>first</em> file to <code class="language-plaintext highlighter-rouge">require 'lit_cli'</code>, so require Lit in your applicationâ€™s entry point / main file if you need this feature.</p>

<h4 id="status">@status</h4>

<p>Filter logs by message status:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lit @status=error ruby script.rb
</code></pre></div></div>

<p>Multiple statuses are comma separated:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lit @status=fail,error ruby script.rb
</code></pre></div></div>

<h4 id="type">@type</h4>

<p>Filter logs by message type:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lit @type=cat,dog ruby script.rb
</code></pre></div></div>

<p>Types are optional and represent the type of data, similar to a class.</p>

<h4 id="delay">@delay</h4>

<p><img src="/assets/gifs/delay.gif" width="750" /></p>

<p>Delay the execution of a message to make fast outputting logs easier to read. The default delay is <code class="language-plaintext highlighter-rouge">0</code> seconds (no delay) but can be any positive <code class="language-plaintext highlighter-rouge">Integer</code> or <code class="language-plaintext highlighter-rouge">Float</code>, for example:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lit @delay=1 ruby script.rb
</code></pre></div></div>

<h2 id="installation">Installation</h2>

<p>In Gemfile add:</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">gem</span> <span class="s1">'lit-cli'</span>
</code></pre></div></div>

<p>In terminal run:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bundle install
</code></pre></div></div>

<p>Or:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gem install lit-cli
</code></pre></div></div>

<p>If an application is currently using Lit then the <code class="language-plaintext highlighter-rouge">lit</code> command will already be available in your terminal without any installation required.</p>

<h2 id="api">API</h2>

<p>Instructions for integrating your application with Lit.</p>

<h3 id="usage-1">Usage</h3>

<p>Require <code class="language-plaintext highlighter-rouge">lit_cli</code> at the top of your file:</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">require</span> <span class="s1">'lit_cli'</span>
</code></pre></div></div>

<p>Include <code class="language-plaintext highlighter-rouge">LitCLI</code> in your <code class="language-plaintext highlighter-rouge">module</code> or <code class="language-plaintext highlighter-rouge">class</code>:</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">ExampleClass</span>
  <span class="kp">include</span> <span class="no">LitCLI</span>
</code></pre></div></div>

<p>Then use the <code class="language-plaintext highlighter-rouge">lit()</code> instance method:</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">lit</span> <span class="s2">"message"</span>
</code></pre></div></div>

<h3 id="lit">lit()</h3>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">lit</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">status</span> <span class="o">=</span> <span class="ss">:info</span><span class="p">,</span> <span class="n">type</span> <span class="o">=</span> <span class="kp">nil</span><span class="p">,</span> <span class="n">context</span> <span class="o">=</span> <span class="kp">nil</span><span class="p">)</span>
</code></pre></div></div>

<ul>
  <li>String <code class="language-plaintext highlighter-rouge">message</code> - The message to show.</li>
  <li>Symbol <code class="language-plaintext highlighter-rouge">status</code> (optional) - The status of the message such as <code class="language-plaintext highlighter-rouge">:info</code>, <code class="language-plaintext highlighter-rouge">:warn</code> or <code class="language-plaintext highlighter-rouge">:error</code>.</li>
  <li>Symbol <code class="language-plaintext highlighter-rouge">type</code> (optional) - The type of data this message represents such as <code class="language-plaintext highlighter-rouge">:cat</code> or <code class="language-plaintext highlighter-rouge">:dog</code>.</li>
  <li>String <code class="language-plaintext highlighter-rouge">context</code> (optional) - The current class name or instance ID, anything that gives context.</li>
</ul>

<p>Available statuses and types can be configured, see <code class="language-plaintext highlighter-rouge">lib/config.rb</code> and <code class="language-plaintext highlighter-rouge">demo/demo.rb</code> for more info.</p>

<h3 id="symbols">Symbols</h3>

<p>Special characters convey extra meaning when embedded in the <code class="language-plaintext highlighter-rouge">message</code> string.</p>

<h4 id="method">method()</h4>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">lit</span> <span class="s2">"message method()"</span>
</code></pre></div></div>

<p>Placing <code class="language-plaintext highlighter-rouge">()</code> next to a word will style them as a method.</p>

<h4 id="number">#number</h4>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">lit</span> <span class="s2">"message #1"</span>
</code></pre></div></div>

<p>Placing a <code class="language-plaintext highlighter-rouge">#</code> next to a number will style them as a number.</p>

<h4 id="indent">&gt;indent</h4>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">lit</span> <span class="s2">"&gt; message"</span>
</code></pre></div></div>

<p>Placing a <code class="language-plaintext highlighter-rouge">&gt;</code> at the start of a message will indent the log in the console. Multiple <code class="language-plaintext highlighter-rouge">&gt;&gt;&gt;</code> symbols can be used and for each one, two spaces of indentation will be added. Indentation is not preserved when using <code class="language-plaintext highlighter-rouge">@status</code> or <code class="language-plaintext highlighter-rouge">@type</code> filters.</p>

<h4 id="separator">^separator</h4>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">lit</span> <span class="s2">"^ message"</span>
</code></pre></div></div>

<p>Placing a <code class="language-plaintext highlighter-rouge">^</code> at the start of a message will add a line break above the log in the console. Multiple <code class="language-plaintext highlighter-rouge">^^^</code> symbols can be used and for each one, one line break will be added. Line breaks are not preserved when using <code class="language-plaintext highlighter-rouge">@status</code> or <code class="language-plaintext highlighter-rouge">@type</code> filters.</p>

<h3 id="code-as-comments">Code as comments</h3>

<p>You can use the <code class="language-plaintext highlighter-rouge">lit()</code> method in place of comments to help document your code. This:</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Create control for method.</span>
<span class="n">control</span> <span class="o">=</span> <span class="no">Control</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">action</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="vc">@@reflekt</span><span class="p">.</span><span class="nf">aggregator</span><span class="p">)</span>
<span class="n">action</span><span class="p">.</span><span class="nf">control</span> <span class="o">=</span> <span class="n">control</span>
</code></pre></div></div>

<p>Becomes this:</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">lit</span> <span class="s2">"Create control for </span><span class="si">#{</span><span class="nb">method</span><span class="si">}</span><span class="s2"> method"</span>
<span class="n">control</span> <span class="o">=</span> <span class="no">Control</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">action</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="vc">@@reflekt</span><span class="p">.</span><span class="nf">aggregator</span><span class="p">)</span>
<span class="n">action</span><span class="p">.</span><span class="nf">control</span> <span class="o">=</span> <span class="n">control</span>
</code></pre></div></div>

<p>Now youâ€™ve commented your code and your comments double as logs.</p>

<p>You can even use the emoji <code class="language-plaintext highlighter-rouge">ðŸ”¥()</code> instead of <code class="language-plaintext highlighter-rouge">lit()</code> to call the methodâ€¦ cause why not? Climate change is real and weâ€™re all going to die anyway. So the final code could be:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">ðŸ”¥</span> <span class="s2">"Create control for </span><span class="si">#{</span><span class="nb">method</span><span class="si">}</span><span class="s2"> method"</span>
<span class="n">control</span> <span class="o">=</span> <span class="no">Control</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">action</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="vc">@@reflekt</span><span class="p">.</span><span class="nf">aggregator</span><span class="p">)</span>
<span class="n">action</span><span class="p">.</span><span class="nf">control</span> <span class="o">=</span> <span class="n">control</span>
</code></pre></div></div>

<p>The lit emoji acts as a nice sectional heading too. These are all just ideas and itâ€™s up to you to decide how to write code and save the future of humanity.</p>

</div>
          </div>

          

        </div>
      </div>
    </section>

    
      <footer class="footer">
    <div class="container">

        

        <div class="content is-small has-text-centered">
            <p class="">Copyright <a href="https://maedi.com">Maedi Prichard</a></p>
        </div>
    </div>
</footer>

    

    <script src="/assets/js/app.js" type="text/javascript"></script>
    <script async defer src="https://buttons.github.io/buttons.js"></script><!-- footer scripts --></body>
</html>
