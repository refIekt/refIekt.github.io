



<!DOCTYPE html>
<html >

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content=#ffffff>
    <link rel="stylesheet" href="/assets/css/app.css">
    <link rel="shortcut icon" type="image/png"
           href="/favicon.png" 
    />
    <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.7.0/dist/alpine.min.js" defer></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">
    
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma-social@1/bin/bulma-social.min.css">
    
    <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Lit CLI | Reflekt</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Lit CLI" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Reflective testing." />
<meta property="og:description" content="Reflective testing." />
<link rel="canonical" href="https://reflekt.dev/lit.html" />
<meta property="og:url" content="https://reflekt.dev/lit.html" />
<meta property="og:site_name" content="Reflekt" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Lit CLI" />
<script type="application/ld+json">
{"description":"Reflective testing.","headline":"Lit CLI","@type":"WebPage","url":"https://reflekt.dev/lit.html","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<!-- head scripts --></head>


  <body>
    <nav class="navbar is-light ">
  <div class="container">

    <div class="navbar-brand">
      <a href="/" class="navbar-item">
        Reflekt
      </a>
      <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navMenu">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </a>
    </div>

    <div class="navbar-menu" id="navMenu">
      <div class="navbar-end">
        
          
            
            <a href="/docs/getting-started" class="navbar-item ">ðŸ“– Documentation</a>
            
          
            
            <a href="/lit" class="navbar-item ">ðŸ”¥ Lit</a>
            
          
            
            <a href="https://github.com/refIekt/reflekt" class="navbar-item ">ðŸ¤– Source Code</a>
            
          
        
        
      </div>

    </div>
  </div>
</nav>


    
      <section class="hero  is-medium  is-bold" >
  <div class="hero-body ">
    <div class="container">

      

      
        <h1 class="title is-2">Lit CLI</h1>
      

      
        <p class="subtitle is-3">Shine a light on terminal commands. ðŸ”¥</p>
      

      

    </div>
  </div>
</section>

    

    

    



    <section class="section">
      <div class="container">
        <div class="columns">

          

          <div class="column is-12">
            
            
            
            

            

            
<div class="content">
    <h1 id="lit-cli">Lit CLI</h1>

<p align="center">
  <a href="https://www.mozilla.org/MPL/2.0/" alt="MPLv2 License">
    <img src="https://img.shields.io/badge/license-MPLv2-blue.svg" />
  </a>
  <a href="https://rubygems.org/gems/lit-cli">
    <img src="https://badge.fury.io/rb/lit-cli.svg" alt="Gem Version" />
  </a>
</p>

<p>Lit lets you create console logs that are only visible after prefixing a command with <code class="language-plaintext highlighter-rouge">lit</code>. You can use flags to filter the types of logs and step through your application at runtime, essentially turning your logs into breakpoints. You can press Enter to continue to the next step or press P to begin a <a href="https://github.com/pry/pry">Pry</a> session. Lit was originally created to view the reflections generated by <a href="https://reflekt.dev">Reflekt</a> via the command line, but can be used in a range of applications.</p>

<h2 id="usage">Usage</h2>

<p>Simply start any command with <code class="language-plaintext highlighter-rouge">lit</code>. For example <code class="language-plaintext highlighter-rouge">rails server</code> becomes:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lit rails server
</code></pre></div></div>

<p>A script like <code class="language-plaintext highlighter-rouge">ruby script.rb</code> becomes:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lit ruby script.rb
</code></pre></div></div>

<p>Then run the application and watch the terminal window for Lit messages:</p>
<pre class="code" style="background:black;color:white">
ðŸ”¥ 12:50 <span style="color:blue">â„¹ info</span> Half price books at Jane's Book Emporium
ðŸ”¥ 12:50 <span style="color:green">âœ” pass</span> Amazing news, we're getting married!
ðŸ”¥ 12:50 <span style="color:red">â¨¯ fail</span> They've run out of ice cream Timmy
</pre>

<p>To view <code class="language-plaintext highlighter-rouge">/reflections</code> via the command line run:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lit @type=control,experiment @status=pass,fail ruby run_me.rb
</code></pre></div></div>

<p>You will get results like this:</p>
<pre>
ðŸ”¥ 10:07 <span style="color:green">âœ” PASS</span> <span style="color:blue">control</span> <span style="color:grey">Cat</span> Reflected control for meow()
ðŸ”¥ 10:07 <span style="color:green">âœ” PASS</span> <span style="color:green">experiment</span> <span style="color:grey">Cat</span> Reflected experiment #1 for meow()
ðŸ”¥ 10:07 <span style="color:green">âœ” PASS</span> <span style="color:green">experiment</span> <span style="color:grey">Cat</span> Reflected experiment #2 for meow()
</pre>

<h3 id="flags">Flags</h3>

<p>Lit accepts flags to modify behaviour. They are prefixed with an <code class="language-plaintext highlighter-rouge">@</code> and appended after the <code class="language-plaintext highlighter-rouge">lit</code> command:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lit @&lt;flag-name&gt; ruby &lt;script-name&gt;.rb
</code></pre></div></div>

<p>Flags start with an <code class="language-plaintext highlighter-rouge">@</code> instead of a <code class="language-plaintext highlighter-rouge">--</code> so that they arenâ€™t confused with flags for the original command that Lit is firing off.</p>

<h4 id="step">@step</h4>

<p>Step through the code. The terminal will stop at each <code class="language-plaintext highlighter-rouge">lit()</code> message, then prompt you to press <em>Enter</em> to continue to the next message or press <em>P</em> to enter a Pry session.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lit @step ruby script.rb
</code></pre></div></div>

<p><strong>Note:</strong> Only files required via <code class="language-plaintext highlighter-rouge">require_relative</code> are currently supported for Pry session.<br />
<strong>Note:</strong> Pry is not available to <code class="language-plaintext highlighter-rouge">lit()</code> messages in the <em>first</em> file to <code class="language-plaintext highlighter-rouge">require 'lit_cli'</code>, so require Lit in your applicationâ€™s entry point / main file if you need this feature.</p>

<h4 id="status">@status</h4>

<p>Filter logs by message status:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lit @status=error ruby script.rb
</code></pre></div></div>

<p>Multiple statuses are comma separated:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lit @status=fail,error ruby script.rb
</code></pre></div></div>

<h4 id="type">@type</h4>

<p>Filter logs by message type:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lit @type=cat,dog ruby script.rb
</code></pre></div></div>

<p>Types are optional and represent the type of data, similar to a class.</p>

<h4 id="delay">@delay</h4>

<p>Delay the execution of a message to make fast outputting logs easier to read. The default delay is <code class="language-plaintext highlighter-rouge">0</code> seconds (no delay) but can be any positive <code class="language-plaintext highlighter-rouge">Integer</code> or <code class="language-plaintext highlighter-rouge">Float</code>, for example:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lit @delay=1 ruby script.rb
</code></pre></div></div>

<h2 id="installation">Installation</h2>

<p>In Gemfile add:</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">gem</span> <span class="s1">'lit-cli'</span>
</code></pre></div></div>

<p>In terminal run:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bundle install
</code></pre></div></div>

<p>Or:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gem install lit-cli
</code></pre></div></div>

<p>If an application is currently using Lit then the <code class="language-plaintext highlighter-rouge">lit</code> command will already be available in your terminal without any installation required.</p>

<h2 id="api">API</h2>

<p>Instructions for integrating your application with Lit.</p>

<h3 id="usage-1">Usage</h3>

<p>At the top of your file add:</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">require</span> <span class="s1">'lit_cli'</span>
<span class="kp">include</span> <span class="no">LitCLI</span>
</code></pre></div></div>

<p>Then use the <code class="language-plaintext highlighter-rouge">lit()</code> method:</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">lit</span> <span class="s2">"message"</span>
</code></pre></div></div>

<p>Display a warning message:</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">lit</span> <span class="s2">"Danger, Will Robinson!"</span><span class="p">,</span> <span class="ss">:warn</span>
</code></pre></div></div>
<p>Message types can be configured, see <code class="language-plaintext highlighter-rouge">demo/demo.rb</code> for more info.</p>

<h4 id="code-as-comments">Code as comments</h4>

<p>You can use the <code class="language-plaintext highlighter-rouge">lit()</code> method in place of comments to help document your code. This:</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Create control for method.</span>
<span class="n">control</span> <span class="o">=</span> <span class="no">Control</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">action</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="vc">@@reflekt</span><span class="p">.</span><span class="nf">aggregator</span><span class="p">)</span>
<span class="n">action</span><span class="p">.</span><span class="nf">control</span> <span class="o">=</span> <span class="n">control</span>
</code></pre></div></div>

<p>Becomes this:</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">lit</span> <span class="s2">"Create control for </span><span class="si">#{</span><span class="nb">method</span><span class="si">}</span><span class="s2"> method"</span>
<span class="n">control</span> <span class="o">=</span> <span class="no">Control</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">action</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="vc">@@reflekt</span><span class="p">.</span><span class="nf">aggregator</span><span class="p">)</span>
<span class="n">action</span><span class="p">.</span><span class="nf">control</span> <span class="o">=</span> <span class="n">control</span>
</code></pre></div></div>

<p>Now youâ€™ve commented your code and your comments double as logs.</p>

<p>You can even use the emoji <code class="language-plaintext highlighter-rouge">ðŸ”¥()</code> instead of <code class="language-plaintext highlighter-rouge">lit()</code> to call the methodâ€¦ cause why not? Climate change is real and weâ€™re all going to die anyway. So the final code could be:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">ðŸ”¥</span> <span class="s2">"Create control for </span><span class="si">#{</span><span class="nb">method</span><span class="si">}</span><span class="s2"> method"</span>
<span class="n">control</span> <span class="o">=</span> <span class="no">Control</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">action</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="vc">@@reflekt</span><span class="p">.</span><span class="nf">aggregator</span><span class="p">)</span>
<span class="n">action</span><span class="p">.</span><span class="nf">control</span> <span class="o">=</span> <span class="n">control</span>
</code></pre></div></div>

<p>The lit emoji acts as a nice sectional heading too. These are all just ideas and itâ€™s up to you to decide how to write code and save the future of humanity.</p>

</div>
          </div>

          

        </div>
      </div>
    </section>

    
      <footer class="footer">
    <div class="container">

        

        <div class="content is-small has-text-centered">
            <p class="">Copyright <a href="https://maedi.com">Maedi Prichard</a></p>
        </div>
    </div>
</footer>

    

    <script src="/assets/js/app.js" type="text/javascript"></script><!-- footer scripts --></body>
</html>
